{"ast":null,"code":"var _jsxFileName = \"/home/ana/Escritorio/EDUPLAN/telegram/proyecto-ana/proyecto/anny/src/context/CartContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useEffect } from \"react\";\nimport { useLocalStorage } from \"../components/useLocalStorage/useLocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext([]);\nexport const AppProvider = ({\n  children\n}) => {\n  _s();\n\n  const [cart, setCart] = useLocalStorage(\"cart\", []);\n  useEffect(() => {\n    if (localStorage.getItem(\"cart\") !== null) {\n      setCart(JSON.parse(localStorage.getItem(\"cart\")));\n    }\n  }, []);\n\n  const CartLength = () => {\n    return cart.reduce((prev, next) => {\n      return prev + next.quantity;\n    }, 0);\n  };\n\n  const CartPrice = () => {\n    return cart.reduce((prev, next) => {\n      return prev + next.quantity * next.price;\n    }, 0);\n  };\n\n  const addItem = (newItem, newQuantity) => {\n    if (isInCart(newItem.id) === -1) {\n      setCart([...cart, {\n        item: newItem,\n        quantity: newQuantity\n      }]);\n      localStorage.setItem(\"cart\", JSON.stringify([...cart, {\n        item: newItem,\n        quantity: newQuantity\n      }]));\n      console.log(JSON.stringify([...cart, {\n        item: newItem,\n        quantity: newQuantity\n      }]));\n    } else {\n      const {\n        quantity\n      } = cart.find(e => e.item.id === newItem.id);\n      const newCart = cart.filter(e => e.item.id !== newItem.id);\n      setCart([...newCart, {\n        item: newItem,\n        quantity: quantity + newQuantity\n      }]);\n      localStorage.setItem(\"cart\", JSON.stringify([...newCart, {\n        item: newItem,\n        quantity: quantity + newQuantity\n      }]));\n    }\n  };\n\n  const removeItem = itemId => {\n    const newCart = cart.filter(e => e.item.id !== itemId);\n    setCart(newCart);\n    localStorage.setItem(\"cart\", JSON.stringify(newCart));\n  };\n\n  const clear = () => {\n    setCart([]);\n    localStorage.setItem(\"cart\", JSON.stringify([]));\n  };\n\n  const isInCart = id => {\n    if (cart) {\n      console.log(\"Esta en cart?\", cart);\n      return cart.findIndex(e => e.item.id === id);\n    } else {\n      return null;\n    }\n  };\n\n  const totalPrice = () => {\n    return cart.reduce((acc, product) => {\n      var _product$item;\n\n      return acc += (product === null || product === void 0 ? void 0 : product.quantity) * ((_product$item = product.item) === null || _product$item === void 0 ? void 0 : _product$item.price);\n    }, 0);\n  };\n\n  const handleQuantity = (product, quantity) => {\n    product.quantity = quantity;\n    setCart([...cart]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      addItem,\n      handleQuantity,\n      removeItem,\n      clear,\n      isInCart,\n      CartLength,\n      totalPrice,\n      CartPrice\n    },\n    children: [children, \"e\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AppProvider, \"b9TSliR31CrIzH/aS2/igFJS2zU=\", false, function () {\n  return [useLocalStorage];\n});\n\n_c = AppProvider;\nexport default CartContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"sources":["/home/ana/Escritorio/EDUPLAN/telegram/proyecto-ana/proyecto/anny/src/context/CartContext.js"],"names":["createContext","useEffect","useLocalStorage","CartContext","AppProvider","children","cart","setCart","localStorage","getItem","JSON","parse","CartLength","reduce","prev","next","quantity","CartPrice","price","addItem","newItem","newQuantity","isInCart","id","item","setItem","stringify","console","log","find","e","newCart","filter","removeItem","itemId","clear","findIndex","totalPrice","acc","product","handleQuantity"],"mappings":"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","sourcesContent":["import { createContext, useEffect } from \"react\";\nimport { useLocalStorage } from \"../components/useLocalStorage/useLocalStorage\";\nexport const CartContext = createContext([]);\n\nexport const AppProvider = ({ children }) => {\n  const [cart, setCart] = useLocalStorage(\"cart\", []);\n  \n  useEffect(() => {\n    if (localStorage.getItem(\"cart\") !== null) {\n      setCart(JSON.parse(localStorage.getItem(\"cart\")));\n    }\n  }, []);\n\n  const CartLength = () => {\n    return cart.reduce((prev, next) => {\n      return prev + next.quantity;\n    }, 0);\n  };\n\n  \n  const CartPrice = () => {\n    return cart.reduce((prev, next) => {\n      return prev + next.quantity * next.price;\n    }, 0);\n  };\n\n  const addItem = (newItem, newQuantity) => {\n    if (isInCart(newItem.id) === -1) {\n      setCart([...cart, { item: newItem, quantity: newQuantity }]);\n      localStorage.setItem(\n        \"cart\",\n        JSON.stringify([...cart, { item: newItem, quantity: newQuantity }])\n      );\n\n      console.log(\n        JSON.stringify([...cart, { item: newItem, quantity: newQuantity }])\n      );\n    } else {\n      const { quantity } = cart.find((e) => e.item.id === newItem.id);\n      const newCart = cart.filter((e) => e.item.id !== newItem.id);\n      setCart([\n        ...newCart,\n        { item: newItem, quantity: quantity + newQuantity },\n      ]);\n      localStorage.setItem(\n        \"cart\",\n        JSON.stringify([\n          ...newCart,\n          { item: newItem, quantity: quantity + newQuantity },\n        ])\n      );\n    }\n  };\n  const removeItem = (itemId) => {\n    const newCart = cart.filter((e) => e.item.id !== itemId);\n    setCart(newCart);\n    localStorage.setItem(\"cart\", JSON.stringify(newCart));\n  };\n  const clear = () => {\n    setCart([]);\n    localStorage.setItem(\"cart\", JSON.stringify([]));\n  };\n  const isInCart = (id) => {\n    if (cart) {\n      console.log(\"Esta en cart?\", cart);\n      return cart.findIndex((e) => e.item.id === id);\n    } else {\n      return null;\n    }\n  };\n  const totalPrice = () => {\n    return cart.reduce(\n      (acc, product) => (acc += product?.quantity * product.item?.price),\n      0\n    );\n  };\n\n  const handleQuantity = (product, quantity) => {\n    product.quantity = quantity;\n    setCart([...cart]);\n  };\n\n  return (\n    <CartContext.Provider\n      value={{\n        cart,\n        addItem,\n        handleQuantity,\n        removeItem,\n        clear,\n        isInCart,\n        CartLength,\n        totalPrice,\n        CartPrice,\n      }}\n    >\n      {children}e\n    </CartContext.Provider>\n  );\n};\n\nexport default CartContext;\n"]},"metadata":{},"sourceType":"module"}